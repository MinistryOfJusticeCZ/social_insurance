<%
  average_title_length ||= false
  context ||= false
  context_text = context.is_a?(Hash) ? context[:text] : context
  context_href = context.is_a?(Hash) ? context[:href] : false
  context_data = context.is_a?(Hash) ? context[:data] : false

  inverse ||= false
  margin_bottom ||= 5
  margin_bottom_class = "gem-c-title--margin-bottom-#{margin_bottom}" if [4, 5].include? margin_bottom
%>
<div class="gem-c-title
  <% if inverse %>gem-c-title--inverse<% end %>
  <%= margin_bottom_class %>">
  <% if context %>
    <p class="gem-c-title__context">
      <%= context_href ? link_to(context_text, context_href, class: 'gem-c-title__context-link', data: context_data) : context_text %>
    </p>
  <% end %>
  <h1 class="gem-c-title__text <% if average_title_length %>gem-c-title__text--<%= average_title_length %><% end %>">
    <%= title %>
  </h1>
</div>
